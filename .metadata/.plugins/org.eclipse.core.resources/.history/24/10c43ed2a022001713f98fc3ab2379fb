package models;

public class miCola<T> implements Cola<T> {

	 private T[] arr;
	 private int total ;																	//Tamaño del array despues de redimensionarlo
	 private int top;

	    @SuppressWarnings("unchecked")
		public miCola()
	    {
	    	this.total = 0;
	        arr = (T[]) new Object[total];
	        top = -1;
	    }

	    private void resize(int capacidad)
	    {
	        total = capacidad;
			@SuppressWarnings("unchecked")
			T[] tmp = (T[]) new Object[total];
	        System.arraycopy(arr, 0, tmp, 0, total);									//public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)
	        arr = tmp;
	    }
	    
	     @SuppressWarnings("unchecked")
		public void push(T ele)
	    {       	    	 
	    	 if(total == 0){
	    	 total = 10;
	    	 arr = (T[]) new Object[total];
	    	 }
	    		arr[++top] = ele;
        
	       if(top==total-1){
	            System.out.println("La cola esta full, No se puede ingresar el elemento");
	            
	       }
	    }

	    public void pop()
	    {
	        /*if (total == 0) throw new java.util.NoSuchElementException();					//Se lanza una excepción al encontrarse con un array de capacidad/tamaño 0;
	        T ele = arr[--total];
	        arr[total] = null;
	        if (total > 0 && total == arr.length / 4) resize(arr.length / 2);				//Para optimizar el uso de la memoria y reducir el tamaño del Array 
	        return ele;*/
	    	  if(!isEmpty()){
	             
	    	  System.out.println("Se ha quitado de la Cola este elmento : "+arr[top--]); 
	    	  
	       
	    	  }else{
	    	
	    		  System.out.println("No hay ningún elemento en la Cola ! ");
	    	  }
	    }
	    
	    
	    public void remove (T element){
	    	  
	    	  int contador = 0;
	    	 
	    	  for(int i = 0; i<arr.length; i++){
	    		  
	    		  if(element.equals(arr[i]) ){
	    			  for(int j=i; j<(arr.length-1); j++)
	                  {
	                      arr[j] = arr[j+1];								//Desplazamiento a la izquierda sustituyendo el elemento que queremos quitar por el siguiente
	                  }
	    			  									
	    			  contador ++;
	    			  break;
	    			  
	    		  }
	    	  }
	    		 if(contador ==0){
	    			 System.out.println("Elemento no encontrado ");
	    		 }
	    		 else{	    			 	
	    				 arr[arr.length-1]= null;							//Establecemos la ultima posicion del array a null despues del desplazamiento
	    				 total= total - 1;									//Redimensionamos nuestro Array una posición menos
	    					T[] tmp = (T[]) new Object[total];
	    				     System.arraycopy(arr, 0, tmp, 0, total);		//public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)
	    				       arr = tmp;
	    		 }
	    		  
	    	  }
	    
	    @SuppressWarnings("unchecked")
		public void clear(){
	    	 arr = (T[]) new Object[0];
	    }
	    
	    public boolean contains(T v){
	    	
	        for ( T e : arr)
	            if (e == v || v != null && v.equals(e))
	                return true;

	        return false;
	    }
	    
	    public boolean isEmpty() {
	       
	    	
	    	return top == -1;
	     }
	    
	    public int size(){
	    	
	    	return total;
	    }
	    
	    public void display(){

	        for(int i=0;i<=top;i++){
	            System.out.print(arr[i]+ " ");
	        }
	        System.out.println();
	    }
	    
	    

	    @Override
	    public String toString()
	    {
	      //return java.util.Arrays.toString(arr);
	    	return arr.toString();
	    }

	}



/*if(total == 0){
total = 10;
arr = (T[]) new Object[total];

}else{
if ( arr[total-1]!= null) resize(arr.length * 2);													//**********************
 arr[++top] = ele;
 total++;
if(arr[arr.length-1] != null){
	 total= total *2;
		T[] tmp = (T[]) new Object[total];
       System.arraycopy(arr, 0, tmp, 0, total);									//public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)
       arr = tmp;
   }*/
